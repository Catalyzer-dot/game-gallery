services:
  # Go后端服务 - Windows 容器版本
  backend:
    build:
      context: ./backend
      dockerfile: Dockerfile  # Windows 容器
    container_name: game-gallery-backend
    ports:
      - '8080:8080'
    env_file:
      - ./backend/.env
    restart: unless-stopped

  # 前端服务（可选）
  # 注意：前端建议使用 Linux 容器或直接 IIS 部署
  # frontend:
  #   build:
  #     context: ./web
  #     dockerfile: Dockerfile
  #   container_name: game-gallery-frontend
  #   ports:
  #     - '5173:5173'
  #   environment:
  #     - VITE_API_URL=http://localhost:8080
  #   restart: unless-stopped
  #   depends_on:
  #     - backend
